(this.webpackJsonptemporal=this.webpackJsonptemporal||[]).push([[0],{146:function(e,t,a){e.exports=a(253)},252:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(3),c=a.n(l),o=(a(151),a(145)),i=a(31),m=a(54),s=a(49),u=a.n(s),p=a(125),f=a(65),E=a(9),d=a(255),b=a(256),g=a(257),v=a(143),h=a(260),j=a(262),y=a(263),O=a(264),k=function(){return"true"===localStorage.getItem("login")},S=function(){return localStorage.getItem("email")},w=function(){var e=Object(i.g)(),t=Object(n.useState)("N/A"),a=Object(E.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){var e=S();e&&c(e)}),[l]),r.a.createElement("div",null,r.a.createElement(h.a,{mode:"horizontal"},r.a.createElement(h.a.Item,null,r.a.createElement(m.b,{to:"/dashboard"},r.a.createElement(j.a,{style:{marginRight:"5px"}}),"Dashboard")),r.a.createElement(h.a.Item,{style:{float:"right"},onClick:function(){localStorage.removeItem("login"),localStorage.removeItem("email"),e.replace("/")}},r.a.createElement(y.a,{style:{marginRight:"5px"}}),"D\xe9connexion"),r.a.createElement(h.a.Item,{style:{float:"right"}},r.a.createElement(O.a,{style:{marginRight:"5px"}}),l,"@temporal.com")))},x=a(99),C=a.n(x),I=a(30),D=a(258),M=a(259),B=function(e){var t=e.sujet,a=e.from,l=e.message,c=e.date,o=Object(n.useState)(!1),i=Object(E.a)(o,2),m=i[0],s=i[1],u=function(){s(!m)};return r.a.createElement("div",null,r.a.createElement(I.a,{onClick:u},"Consulter l'email"),r.a.createElement(D.a,{visible:m,closable:!1,footer:[r.a.createElement(I.a,{key:"back",onClick:u},"Lu")]},r.a.createElement("p",null,t),r.a.createElement("p",null,c),r.a.createElement(M.a,{disabled:!0,value:a}),r.a.createElement("p",null,l)))},Y=a(261),L=a(72),N=a.n(L),R=function(){var e=Object(n.useState)(!1),t=Object(E.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(E.a)(c,2),i=o[0],m=o[1],s=Object(n.useState)(""),p=Object(E.a)(s,2),d=p[0],b=p[1],g=Object(n.useState)(""),v=Object(E.a)(g,2),h=v[0],j=v[1],y=M.a.TextArea,O=function(){var e=Object(f.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S(),a=new FormData,t&&a.append("emailFrom",t),a.append("emailDesti",d),a.append("sujet",i),a.append("message",h),e.next=8,N.a.post("http://172.22.247.155:8888/api/email/send",a);case 8:"ok"===e.sent.data&&(Y.a.success("Votre email est envoy\xe9 !"),m(""),b(""),j(""),l(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){l(!a)};return r.a.createElement("div",{style:{marginLeft:"1%"}},r.a.createElement(I.a,{onClick:k,style:{marginTop:"1%"},type:"primary"},"Envoyer un email"),r.a.createElement(D.a,{visible:a,title:"Envoyer un email",closable:!1,footer:[r.a.createElement(I.a,{key:"cancel",onClick:k},"Cancel"),r.a.createElement(I.a,{key:"submit",type:"primary",onClick:O},"Envoyer")]},r.a.createElement(M.a,{style:{marginBottom:"1%"},placeholder:"Sujet",value:i,onChange:function(e){m(e.target.value)}}),r.a.createElement(M.a,{style:{marginBottom:"1%"},placeholder:"Destinataire",value:d,onChange:function(e){b(e.target.value)}}),r.a.createElement(y,{rows:4,placeholder:"Message",value:h,onChange:function(e){j(e.target.value)}})))},z=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],l=t[1],c=function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n,r,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S(),e.next=3,N.a.get("http://172.22.247.155:8888/api/email/get/".concat(t));case 3:if(a=e.sent,n=[],a.data){r=Object(p.a)(a.data);try{for(r.s();!(c=r.n()).done;)o=c.value,n.push({from:o[0],date:o[1],sujet:o[2],message:o[3]})}catch(i){r.e(i)}finally{r.f()}}l(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(R,null),r.a.createElement(d.a,null),a&&a.map((function(e){return r.a.createElement(b.a,{key:e.date,author:e.from,style:{marginLeft:"1%"},avatar:r.a.createElement(g.a,{src:"https://cdn3.iconfinder.com/data/icons/peelicons-vol-1/50/Mail-512.png",alt:"Exp\xe9diteur"}),actions:[r.a.createElement(B,{sujet:e.sujet,from:e.from,message:e.message,date:e.date})],content:r.a.createElement("p",null,e.sujet),datetime:r.a.createElement(v.a,{title:C()().format("YYYY-MM-DD HH:mm:ss")},r.a.createElement("span",null,C()().fromNow()))})&&r.a.createElement(d.a,null)})))},A=(a(252),function(){var e=Object(i.g)(),t=Object(n.useState)(""),a=Object(E.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),m=Object(E.a)(o,2),s=m[0],u=m[1],p=function(){var t;t=l,localStorage.setItem("email",t),localStorage.setItem("login","true"),e.replace("/dashboard")};return Object(n.useEffect)((function(){k()&&u(!0)}),[]),r.a.createElement("div",{className:"bg-modal"},s&&r.a.createElement(i.a,{to:"/dashboard"}),r.a.createElement(D.a,{footer:[r.a.createElement(I.a,{key:"submit",type:"primary",onClick:p},"V\xe9rifier les mails")],title:" Saisissez le mail jetable de votre choix",visible:!0,closable:!1},r.a.createElement(M.a,{required:!0,placeholder:"@temporal.com",value:l,onPressEnter:p,onChange:function(e){c(e.target.value)}})))}),F=function(){var e=function(e){var t=e.component,a=Object(o.a)(e,["component"]),n=!1;k()&&(n=!0);return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/"}})}}))};return r.a.createElement(m.a,null,r.a.createElement(i.d,null,r.a.createElement(e,{path:"/dashboard/",component:z}),r.a.createElement(i.b,{path:"/",exact:!0,component:A})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.6ea82523.chunk.js.map