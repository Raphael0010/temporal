(this.webpackJsonptemporal=this.webpackJsonptemporal||[]).push([[0],{146:function(e,t,a){e.exports=a(253)},252:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(3),c=a.n(l),o=(a(151),a(145)),i=a(31),m=a(54),s=a(49),u=a.n(s),p=a(125),f=a(66),d=a(9),E=a(30),g=a(255),b=a(256),v=a(257),h=a(143),j=a(260),y=a(262),O=a(263),k=a(264),S=function(){return"true"===localStorage.getItem("login")},w=function(){return localStorage.getItem("email")},x=function(){var e=Object(i.g)(),t=Object(n.useState)("N/A"),a=Object(d.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){var e=w();e&&c(e)}),[l]),r.a.createElement("div",null,r.a.createElement(j.a,{mode:"horizontal"},r.a.createElement(j.a.Item,null,r.a.createElement(m.b,{to:"/dashboard"},r.a.createElement(y.a,{style:{marginRight:"5px"}}),"Dashboard")),r.a.createElement(j.a.Item,{style:{float:"right"},onClick:function(){localStorage.removeItem("login"),localStorage.removeItem("email"),e.replace("/")}},r.a.createElement(O.a,{style:{marginRight:"5px"}}),"D\xe9connexion"),r.a.createElement(j.a.Item,{style:{float:"right"}},r.a.createElement(k.a,{style:{marginRight:"5px"}}),l,"@temporal.com")))},C=a(56),I=a.n(C),D=a(258),Y=a(259),M=function(e){var t=e.sujet,a=e.from,l=e.message,c=e.date,o=Object(n.useState)(!1),i=Object(d.a)(o,2),m=i[0],s=i[1],u=function(){s(!m)};return r.a.createElement("div",null,r.a.createElement(E.a,{onClick:u},"Consulter l'email"),r.a.createElement(D.a,{visible:m,closable:!1,footer:[r.a.createElement(E.a,{key:"back",onClick:u},"Lu")]},r.a.createElement("h3",null,"Sujet : ",t),r.a.createElement("p",null,I()(c).format("YYYY-MM-DD HH:mm:ss")),r.a.createElement(Y.a,{disabled:!0,value:a}),r.a.createElement("p",{style:{paddingTop:"3%"}},l)))},B=a(261),H=a(73),L=a.n(H),R=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(d.a)(c,2),i=o[0],m=o[1],s=Object(n.useState)(""),p=Object(d.a)(s,2),g=p[0],b=p[1],v=Object(n.useState)(""),h=Object(d.a)(v,2),j=h[0],y=h[1],O=Y.a.TextArea,k=function(){var e=Object(f.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w(),a=new FormData,t&&a.append("emailFrom",t),a.append("emailDesti",g),a.append("sujet",i),a.append("message",j),e.next=8,L.a.post("http://172.22.247.155:8888/api/email/send",a);case 8:"ok"===e.sent.data&&(B.a.success("Votre email est envoy\xe9 !"),m(""),b(""),y(""),l(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){l(!a)};return r.a.createElement("div",{style:{marginLeft:"1%"}},r.a.createElement(E.a,{onClick:S,type:"primary"},"Envoyer un email"),r.a.createElement(D.a,{visible:a,title:"Envoyer un email",closable:!1,footer:[r.a.createElement(E.a,{key:"cancel",onClick:S},"Cancel"),r.a.createElement(E.a,{key:"submit",type:"primary",onClick:k},"Envoyer")]},r.a.createElement(Y.a,{style:{marginBottom:"1%"},placeholder:"Sujet",value:i,onChange:function(e){m(e.target.value)}}),r.a.createElement(Y.a,{style:{marginBottom:"1%"},placeholder:"Destinataire",value:g,onChange:function(e){b(e.target.value)}}),r.a.createElement(O,{rows:4,placeholder:"Message",value:j,onChange:function(e){y(e.target.value)}})))},N=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c=function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n,r,c,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w(),e.next=3,L.a.get("http://172.22.247.155:8888/api/email/get/".concat(t));case 3:if(a=e.sent,n=[],r=0,a.data){c=Object(p.a)(a.data.reverse());try{for(c.s();!(o=c.n()).done;)i=o.value,r++,n.push({id:r,from:i.from,date:i.date,sujet:i.sujet,message:i.message})}catch(m){c.e(m)}finally{c.f()}}l(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement("div",{style:{display:"flex",marginTop:"1%"}},r.a.createElement(R,null),r.a.createElement(E.a,{onClick:c,style:{marginLeft:"1%"},type:"default"},"Rafraichir ses emails")),r.a.createElement(g.a,null),a.length>0&&a.map((function(e){return r.a.createElement(b.a,{key:e.id,author:e.from,style:{marginLeft:"1%"},avatar:r.a.createElement(v.a,{src:"https://cdn3.iconfinder.com/data/icons/peelicons-vol-1/50/Mail-512.png",alt:"Exp\xe9diteur"}),actions:[r.a.createElement(M,{sujet:e.sujet,from:e.from,message:e.message,date:e.date})],content:r.a.createElement("p",null,e.sujet),datetime:r.a.createElement(h.a,{title:I()(e.date).format("YYYY-MM-DD HH:mm:ss")},r.a.createElement("span",null,I()(e.date).fromNow()))})})))},T=(a(252),function(){var e=Object(i.g)(),t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),m=Object(d.a)(o,2),s=m[0],u=m[1],p=function(){var t;t=l,localStorage.setItem("email",t),localStorage.setItem("login","true"),e.replace("/dashboard")};return Object(n.useEffect)((function(){S()&&u(!0)}),[]),r.a.createElement("div",{className:"bg-modal"},s&&r.a.createElement(i.a,{to:"/dashboard"}),r.a.createElement(D.a,{footer:[r.a.createElement(E.a,{key:"submit",type:"primary",onClick:p},"V\xe9rifier les mails")],title:" Saisissez le mail jetable de votre choix",visible:!0,closable:!1},r.a.createElement(Y.a,{required:!0,placeholder:"@temporal.com",value:l,onPressEnter:p,onChange:function(e){c(e.target.value)}})))}),z=function(){var e=function(e){var t=e.component,a=Object(o.a)(e,["component"]),n=!1;S()&&(n=!0);return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/"}})}}))};return r.a.createElement(m.a,null,r.a.createElement(i.d,null,r.a.createElement(e,{path:"/dashboard/",component:N}),r.a.createElement(i.b,{path:"/",exact:!0,component:T})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.f7073717.chunk.js.map